package org.lrth.fsassistant.integration;

import org.springframework.context.annotation.Component;

/**
 * @author lanaya
 *
 * This class is intended to be used by final Message Sources, not to be one.
 */
@Component
public class CommonFileMessageSource {

   protected MessageSource<File> getFilePollerMessageSource(
      final String folder,
      final CompositeFileListFilter<File> filters
   ) {
   	FileReadingMessageSource source = new FileReadingMessageSource();
   	
      source.setAutoCreateDirectory(true);
      source.setDirectory(new File(folder));
      
      if (filters != null && filters.size() > 0) {
         source.setFilter(filters);
      }

      return source;
   }
   
}
